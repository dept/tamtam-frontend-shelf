{#
    @shelf-version: 1.0.0
    Media comopnent

    data {
        url:        'string', (optional)
        classes:    'string', (optional)
        image: {
            image:   'string', (desktop fallback image)
            preload: 'string', (10xratio preload image)
            srcset:  'string'  (image srcset)
        },
        title:      'string',
        align:      'top' (optional) - aligns content to the top
    }

    caller - for content.
#}

{% from 'components/image.html' import image  %}

{% macro media(data) %}

    <article class="u-margin-top--md c-media
     {% if data.classes %}{{data.classes}}{% endif %}
     {% if data.align %}media--align-{{data.align}}{% endif %}">
        <a href="{{ data.url or '#' }}" class="o-grid media__wrapper">

            {% if data.image %}
                <div class="o-col-3 media__aside">
                    {{ image({
                        classes: 'media__figure',
                        preload: data.image.preload,
                        image: data.image.image,
                        srcset: data.image.srcset
                    }) }}
                </div>
            {% endif %}

            {% if data.image %}
                {% set contentWidthClass = "o-col-9" %}
            {% else %}
                {% set contentWidthClass = "o-col-12" %}
            {% endif %}

            <div class="{{ contentWidthClass }} media__content">
                <h3>{{ data.title }}</h3>
                {% if caller %}
                    {{ caller() }}
                {%endif %}
            </div>
        </a>

    </article>

{% endmacro %}
